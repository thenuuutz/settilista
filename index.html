<html>
<head>
</head>
<body>
<h1>Settilistan luomistyökalu</h1>
<table>
<thead>
  <tr>
    <th>Kappaleen nimi</th>
    <th>Esittäjä</th>
    <th>Kappaleen pituus</th>
    <th>Tyylilaji</th>
  </tr>
  </thead>
  <tbody id="settilista">
  </tbody>
  </table>
<script>
const biisit = {
  "songs": [
    {
      "artist": "Deep Purple",
      "title": "Smoke on the water",
      "tags": [ "rock", "nostalgia", "loppuilta" ],
      "length": 341
    },
    {
      "artist": "Elvis",
      "title": "(Can't help) falling in love with you",
      "tags": [ "rock", "ballad", "slovarit" ],
      "length": 275
    }
   ]
  };
  
  function td(title) {
    let cell = document.createElement('td');
    cell.innerText = title;
    return cell;
  }
  
  function timePrint(seconds) {
    if (seconds) < 60){
      return seconds;
    }
    var minuutit = Math.floor(seconds/60);
    var loppusekunnit = seconds - minuutit * 60;
    return `${minuutit}:${loppusekunnit}`;
  }
  
  function populateSongs() {
    let settilista = document.querySelector("#settilista");
    biisit.songs.forEach(song => {
      let tr = document.createElement('tr');
      tr.appendChild(td(song.title));
      tr.appendChild(td(song.artist));
      tr.appendChild(td(timePrint(song.length)));
      tr.appendChild(td(song.tags.join(', ')));
      settilista.appendChild(tr);
    });
  }
  document.onready = populateSongs();
    
 </script>
